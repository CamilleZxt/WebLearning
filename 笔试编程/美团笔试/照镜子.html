<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>照镜子</title>
</head>

<body>
    <script>
        var n = 8;
        var m = 3;
        var matrix = [[1, 0, 1], [0, 1, 0], [0, 1, 0], [1, 0, 1], [1, 0, 1], [0, 1, 0], [0, 1, 0], [1, 0, 1]];

        function equalArr(a, b) {
            if (a.length != b.length) {
                return false;
            } else {
                for (let i = 0; i < a.length; i++) {
                    if (a[i] != b[i]) {
                        return false;
                    }
                }
                return true;
            }
        }

        let len = matrix.length;
        while (len > 0) {
            if (len % 2 == 1) {
                break;
            }
            let i = 0;
            let j = len - 1;
            while (i < j) {
                if (equalArr(matrix[i], matrix[j])) {
                    i++;
                    j--;
                } else {
                    break;
                }
            }

            if (i <= j) {
                break;
            }

            len = len / 2;

        }

        for (let row = 0; row < len; row++) {
            var s = "";
            for (let col = 0; col < m; col++) {
                if (col == m - 1) {
                    s += matrix[row][col];
                } else {
                    s += matrix[row][col] + " ";
                }
            }
            console.log(s);
        }

    </script>
</body>

</html>