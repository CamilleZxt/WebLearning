<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <script>
        /**
        王子与公主

        时间限制: 3000MS
        内存限制: 589824KB

        题目描述:

        在一个n行m列的二维地图中，王子的位置为(x1,y1),公主的位置为(x2,y2)。
        在地图中设有-些障碍物，王子只能朝上、下、左、右四个方向行走，且不允许走出地
        图也不允许穿越障碍物。
        请编写一个程序判断王子是否可以顺利走到公主所在的位置。

        输入描述

        多组输入，第1行输入一个正整数T表示输入数据的组数。
        对于每一组输入数据: 输入n+1行。
        其中，第1行输入两个正整数n和m表示地图的大小，n为行数，m为列数。
        (n<=100,m<=100)
        接下来n行表示地图，每一行都有m个字符， 其中S表示王子的位置，E表示公主
        的位置，':表示可以通行，'#'表示障碍物(不能通行)。

        输出描述

        针对每一组输入数据， 判断王子是否能够到达公主所在位置?如果可以输出
        "YES"，否则输出"NO"。

        样例输入
        2
        2 2
        .E
        S.
        2 2
        #E
        S#

        样例输出
        YES
        NO
        */

        var m = 2;
        var n = 2;
        //m行n列

        //样例输入
        var matrix = [['.', 'E'], ['S', '.']];
        // var matrix = [['#', 'E'], ['S', '#']];

        var res = false;
        for (let row = 0; row < matrix.length; row++) {
            for (let col = 0; col < matrix[0].length; col++) {
                if (matrix[row][col] == 'S') {
                    res = dfs(matrix, row, col);
                }
            }
        }
        if (res) {
            console.log('YES');
        } else {
            console.log('NO');
        }

        function dfs(matrix, row, col) {
            if (row < 0 || row >= matrix.length || col < 0 || col >= matrix[0].length || matrix[row][col] == '#') {
                return false;
            }

            if (matrix[row][col] == 'E') {
                return true;
            }

            matrix[row][col] = '#';
            res = dfs(matrix, row - 1, col) || dfs(matrix, row + 1, col) || dfs(matrix, row, col - 1) || dfs(matrix, row, col + 1);
            matrix[row][col] = '.';
            return res;
        }




    </script>
</body>

</html>