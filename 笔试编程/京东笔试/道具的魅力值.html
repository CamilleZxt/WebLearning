<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>道具的魅力值</title>
</head>

<body>
    <script>
        /**
        在某网络游戏中提供了一个道具库，在道具库中每种道具均有若干件(数量已知)，游
        戏玩家购买一件道具将获得一 定的魅力值。
        已知每种道具的价格和魅力值，请编写一个程序， 在总价格不超过某个上限的情况下使
        得所购道具的魅力值之和达到最大。

        输入描述

        单组输入。
        每组测试数据的输入有n+ 1行，n表示道具的种类。
        第1行包含两个正整数，分别表示道具种类数n和总价值的上限p，两个数字之间
        用空格隔开。(n<=100, p<= 10000)
        第2行到第n+ 1行分别对应于第1种道具到第n种道具的信息，每1行包含三个正
        整数，两个数字之间用空格隔开，三个正整数分别表示某一种道具的数量、单个
        道具的价格和魅力值。

        输出描述

        每组测试数据的输出只有一行，即道具魅力值的最大和。

        样例输入
        3 10
        2 2 3
        1 5 10
        2 4 12

        样例输出
        27
        */
        var n = 3;
        var p = 10;
        var arr = [[2, 4, 3], [1, 5, 10], [2, 4, 12]];

        var value = new Array(p).fill(0);
        var j = 0;
        var index, nums;
        while (p > 0) {
            var price = [];
            for (let i = 0; i < n; i++) {
                price.push(arr[i][1]);
            }
            console.log(price);
            if (price.every((a) => { return a > p; })) {
                break;
            }
            for (let i = 0; i < n; i++) {
                if (Math.floor(p / arr[i][1]) >= arr[i][0]) {
                    let val = arr[i][0] * arr[i][2];
                    if (value[j] < val) {
                        value[j] = val;
                        index = i;
                        nums = arr[i][0];
                    }

                } else if (Math.floor(p / arr[i][1]) < arr[i][0] && Math.floor(p / arr[i][1]) != 0) {
                    let num = Math.floor(p / arr[i][1]);
                    let val = arr[i][2] * num;
                    if (value[j] < val) {
                        value[j] = val;
                        index = i;
                        nums = num;
                    }
                }
            }

            p = p - nums * arr[index][1];
            arr[index][0] = arr[index][0] - nums;
            j++;
            console.log(index);
            console.log(nums);
            console.log(p);

        }

        let sum = value.reduce((a, b) => { return a + b })
        console.log(sum);


    </script>
</body>

</html>