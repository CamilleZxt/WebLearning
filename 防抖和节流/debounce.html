<!DOCTYPE html>
<html>

<head>
	<title>debounce</title>
	<style>
		#container {
			height: 500px;
			background-color: #444;
			background-size: size;
			color: aliceblue;
			font-size: 20px;
			text-align: center;
			line-height: 500px;
		}
	</style>
</head>

<body>
	<div id="container">

	</div>
	<button id="btn">取消防抖</button>
	<script src="debounce.js"></script>
	<script src="throttle.js"></script>
	<script>
		let count = 0;
		//演示事件是如何频繁发生的？
		let container = document.querySelector('#container');
		function doSomething(e) {
			// console.log(this);//this需要改变指向到触发事件的对象
			console.log(e);//e应为触发事件的对象 事件
			container.innerHTML = count++;
		}
		//只要鼠标悬浮，就会执行doSomething函数
		// container.onmousemove = doSomething;

		//利用underscore.js中的debounce()方法，参数：事件响应函数，时间间隔，是否立即执行
		// container.onmousemove = _.debounce(doSomething, 300, false);

		doSome = debounce(doSomething, 3000, false);
		container.onmousemove = doSome;

		console.log(doSome());

		let btn = document.querySelector('#btn');
		btn.onclick = function () {
			doSome.cancel();
		}
	</script>
</body>

</html>